# ğŸš€ å¿«é€Ÿä¿®å¾©ï¼šredirect_uri_mismatch

## âš¡ ç«‹å³è¡Œå‹•

### æ­¥é©Ÿ 1: å‰å¾€ Google Cloud Console
ğŸ”— https://console.cloud.google.com/apis/credentials

### æ­¥é©Ÿ 2: æ·»åŠ é€™å…©å€‹ URIs

```
https://pycrm.zeabur.app/auth/callback
https://pycrm.zeabur.app/auth/gmail/callback
```

### æ­¥é©Ÿ 3: å„²å­˜ä¸¦ç­‰å¾… 5 åˆ†é˜

---

## ğŸ“‹ è©³ç´°èªªæ˜

### ç‚ºä»€éº¼æœƒå‡ºç¾é€™å€‹éŒ¯èª¤ï¼Ÿ

ä½ çš„æ‡‰ç”¨æ­£åœ¨ä½¿ç”¨ï¼š
```
http://pycrm.zeabur.app/auth/gmail/callback  âŒ (http)
```

ä½† Zeabur éœ€è¦ï¼š
```
https://pycrm.zeabur.app/auth/gmail/callback  âœ… (https)
```

### æˆ‘åšäº†ä»€éº¼ä¿®æ­£ï¼Ÿ

âœ… æ›´æ–° `app/main.py` - è‡ªå‹•æª¢æ¸¬ zeabur.app ä¸¦ä½¿ç”¨ https
âœ… é©ç”¨æ–¼ç™»å…¥å’Œ Gmail API æˆæ¬Š
âœ… åœ¨æœ¬åœ°é–‹ç™¼æ™‚ä»ä½¿ç”¨ http

### Google Console è¨­å®šåœ–è§£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OAuth 2.0 å®¢æˆ¶ç«¯ ID                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·²æˆæ¬Šçš„é‡æ–°å°å‘ URI                             â”‚
â”‚                                                  â”‚
â”‚  [âœ“] https://pycrm.zeabur.app/auth/callback     â”‚
â”‚  [âœ“] https://pycrm.zeabur.app/auth/gmail/callbackâ”‚
â”‚                                                  â”‚
â”‚  [+ æ–°å¢ URI]                    [å„²å­˜] [å–æ¶ˆ]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ å®Œæˆå¾Œæ¸¬è©¦

1. é‡å•Ÿ Zeabur æ‡‰ç”¨ï¼ˆå·²éƒ¨ç½²è‡ªå‹•é‡å•Ÿï¼‰
2. æ¸…é™¤ç€è¦½å™¨ cookies
3. è¨ªå• `https://pycrm.zeabur.app/login`
4. æ‡‰è©²èƒ½æˆåŠŸç™»å…¥
5. è¨ªå• `/send-email`
6. é»æ“Šã€Œæˆæ¬Š Gmail APIã€
7. æ‡‰è©²èƒ½æˆåŠŸæˆæ¬Š

---

## ğŸ†˜ é‚„æ˜¯ä¸è¡Œï¼Ÿ

### ç¢ºèªæ¸…å–®
- [ ] URI ä½¿ç”¨ `https://` ä¸æ˜¯ `http://`
- [ ] URI çµå°¾æ²’æœ‰å¤šé¤˜çš„ `/`
- [ ] å·²ç¶“å„²å­˜ä¸¦ç­‰å¾… 5-10 åˆ†é˜
- [ ] å·²æ¸…é™¤ç€è¦½å™¨ cookies
- [ ] æª¢æŸ¥ Console æ—¥èªŒç¢ºèª redirect_uri

### æŸ¥çœ‹æ—¥èªŒ
åœ¨ Zeabur æ—¥èªŒä¸­æ‡‰è©²çœ‹åˆ°ï¼š
```
å•Ÿå‹• Gmail API OAuth æµç¨‹ï¼Œredirect_uri: https://pycrm.zeabur.app/auth/gmail/callback
```

å¦‚æœé¡¯ç¤º `http://` è€Œä¸æ˜¯ `https://`ï¼Œè«‹ç¢ºèªï¼š
1. æ‡‰ç”¨å·²é‡æ–°éƒ¨ç½²
2. ä»£ç¢¼å·²æ›´æ–°

---

## ğŸ“ éœ€è¦å¹«åŠ©ï¼Ÿ

æŸ¥çœ‹è©³ç´°æ–‡ä»¶ï¼š
- `REDIRECT_URI_FIX.md` - å®Œæ•´èªªæ˜
- `GMAIL_AUTH_SEPARATION.md` - æˆæ¬Šæµç¨‹
- åŸ·è¡Œ `./setup_oauth_uris.sh` - è¨­å®šåŠ©æ‰‹
